{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n/* eslint-disable default-case */\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useBaseProps } from 'rc-select';\nimport Column from './Column';\nimport CascaderContext from '../context';\nimport { isLeaf, toPathKey, toPathKeys, toPathValueStr } from '../utils/commonUtil';\nimport useActive from './useActive';\nimport useKeyboard from './useKeyboard';\nimport { toPathOptions } from '../utils/treeUtil';\nvar RefOptionList = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _optionColumns$, _optionColumns$$optio, _ref3, _classNames;\n\n  var _useBaseProps = useBaseProps(),\n      prefixCls = _useBaseProps.prefixCls,\n      multiple = _useBaseProps.multiple,\n      searchValue = _useBaseProps.searchValue,\n      toggleOpen = _useBaseProps.toggleOpen,\n      notFoundContent = _useBaseProps.notFoundContent,\n      direction = _useBaseProps.direction;\n\n  var containerRef = React.useRef();\n  var rtl = direction === 'rtl';\n\n  var _React$useContext = React.useContext(CascaderContext),\n      options = _React$useContext.options,\n      values = _React$useContext.values,\n      halfValues = _React$useContext.halfValues,\n      fieldNames = _React$useContext.fieldNames,\n      changeOnSelect = _React$useContext.changeOnSelect,\n      onSelect = _React$useContext.onSelect,\n      searchOptions = _React$useContext.searchOptions,\n      dropdownPrefixCls = _React$useContext.dropdownPrefixCls,\n      loadData = _React$useContext.loadData,\n      expandTrigger = _React$useContext.expandTrigger;\n\n  var mergedPrefixCls = dropdownPrefixCls || prefixCls; // ========================= loadData =========================\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      loadingKeys = _React$useState2[0],\n      setLoadingKeys = _React$useState2[1];\n\n  var internalLoadData = function internalLoadData(valueCells) {\n    // Do not load when search\n    if (!loadData || searchValue) {\n      return;\n    }\n\n    var optionList = toPathOptions(valueCells, options, fieldNames);\n    var rawOptions = optionList.map(function (_ref) {\n      var option = _ref.option;\n      return option;\n    });\n    var lastOption = rawOptions[rawOptions.length - 1];\n\n    if (lastOption && !isLeaf(lastOption, fieldNames)) {\n      var pathKey = toPathKey(valueCells);\n      setLoadingKeys(function (keys) {\n        return [].concat(_toConsumableArray(keys), [pathKey]);\n      });\n      loadData(rawOptions);\n    }\n  }; // zombieJ: This is bad. We should make this same as `rc-tree` to use Promise instead.\n\n\n  React.useEffect(function () {\n    if (loadingKeys.length) {\n      loadingKeys.forEach(function (loadingKey) {\n        var valueStrCells = toPathValueStr(loadingKey);\n        var optionList = toPathOptions(valueStrCells, options, fieldNames, true).map(function (_ref2) {\n          var option = _ref2.option;\n          return option;\n        });\n        var lastOption = optionList[optionList.length - 1];\n\n        if (!lastOption || lastOption[fieldNames.children] || isLeaf(lastOption, fieldNames)) {\n          setLoadingKeys(function (keys) {\n            return keys.filter(function (key) {\n              return key !== loadingKey;\n            });\n          });\n        }\n      });\n    }\n  }, [options, loadingKeys, fieldNames]); // ========================== Values ==========================\n\n  var checkedSet = React.useMemo(function () {\n    return new Set(toPathKeys(values));\n  }, [values]);\n  var halfCheckedSet = React.useMemo(function () {\n    return new Set(toPathKeys(halfValues));\n  }, [halfValues]); // ====================== Accessibility =======================\n\n  var _useActive = useActive(),\n      _useActive2 = _slicedToArray(_useActive, 2),\n      activeValueCells = _useActive2[0],\n      setActiveValueCells = _useActive2[1]; // =========================== Path ===========================\n\n\n  var onPathOpen = function onPathOpen(nextValueCells) {\n    setActiveValueCells(nextValueCells); // Trigger loadData\n\n    internalLoadData(nextValueCells);\n  };\n\n  var isSelectable = function isSelectable(option) {\n    var disabled = option.disabled;\n    var isMergedLeaf = isLeaf(option, fieldNames);\n    return !disabled && (isMergedLeaf || changeOnSelect || multiple);\n  };\n\n  var onPathSelect = function onPathSelect(valuePath, leaf) {\n    var fromKeyboard = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    onSelect(valuePath);\n\n    if (!multiple && (leaf || changeOnSelect && (expandTrigger === 'hover' || fromKeyboard))) {\n      toggleOpen(false);\n    }\n  }; // ========================== Option ==========================\n\n\n  var mergedOptions = React.useMemo(function () {\n    if (searchValue) {\n      return searchOptions;\n    }\n\n    return options;\n  }, [searchValue, searchOptions, options]); // ========================== Column ==========================\n\n  var optionColumns = React.useMemo(function () {\n    var optionList = [{\n      options: mergedOptions\n    }];\n    var currentList = mergedOptions;\n\n    var _loop = function _loop(i) {\n      var activeValueCell = activeValueCells[i];\n      var currentOption = currentList.find(function (option) {\n        return option[fieldNames.value] === activeValueCell;\n      });\n      var subOptions = currentOption === null || currentOption === void 0 ? void 0 : currentOption[fieldNames.children];\n\n      if (!(subOptions === null || subOptions === void 0 ? void 0 : subOptions.length)) {\n        return \"break\";\n      }\n\n      currentList = subOptions;\n      optionList.push({\n        options: subOptions\n      });\n    };\n\n    for (var i = 0; i < activeValueCells.length; i += 1) {\n      var _ret = _loop(i);\n\n      if (_ret === \"break\") break;\n    }\n\n    return optionList;\n  }, [mergedOptions, activeValueCells, fieldNames]); // ========================= Keyboard =========================\n\n  var onKeyboardSelect = function onKeyboardSelect(selectValueCells, option) {\n    if (isSelectable(option)) {\n      onPathSelect(selectValueCells, isLeaf(option, fieldNames), true);\n    }\n  };\n\n  useKeyboard(ref, mergedOptions, fieldNames, activeValueCells, onPathOpen, containerRef, onKeyboardSelect); // ========================== Render ==========================\n  // >>>>> Empty\n\n  var isEmpty = !((_optionColumns$ = optionColumns[0]) === null || _optionColumns$ === void 0 ? void 0 : (_optionColumns$$optio = _optionColumns$.options) === null || _optionColumns$$optio === void 0 ? void 0 : _optionColumns$$optio.length);\n  var emptyList = [(_ref3 = {}, _defineProperty(_ref3, fieldNames.label, notFoundContent), _defineProperty(_ref3, fieldNames.value, '__EMPTY__'), _defineProperty(_ref3, \"disabled\", true), _ref3)];\n\n  var columnProps = _objectSpread(_objectSpread({}, props), {}, {\n    multiple: !isEmpty && multiple,\n    onSelect: onPathSelect,\n    onActive: onPathOpen,\n    onToggleOpen: toggleOpen,\n    checkedSet: checkedSet,\n    halfCheckedSet: halfCheckedSet,\n    loadingKeys: loadingKeys,\n    isSelectable: isSelectable\n  }); // >>>>> Columns\n\n\n  var mergedOptionColumns = isEmpty ? [{\n    options: emptyList\n  }] : optionColumns;\n  var columnNodes = mergedOptionColumns.map(function (col, index) {\n    var prevValuePath = activeValueCells.slice(0, index);\n    var activeValue = activeValueCells[index];\n    return /*#__PURE__*/React.createElement(Column, _extends({\n      key: index\n    }, columnProps, {\n      prefixCls: mergedPrefixCls,\n      options: col.options,\n      prevValuePath: prevValuePath,\n      activeValue: activeValue\n    }));\n  }); // >>>>> Render\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(mergedPrefixCls, \"-menus\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(mergedPrefixCls, \"-menu-empty\"), isEmpty), _defineProperty(_classNames, \"\".concat(mergedPrefixCls, \"-rtl\"), rtl), _classNames)),\n    ref: containerRef\n  }, columnNodes));\n});\nexport default RefOptionList;","map":{"version":3,"names":["_extends","_objectSpread","_defineProperty","_toConsumableArray","_slicedToArray","React","classNames","useBaseProps","Column","CascaderContext","isLeaf","toPathKey","toPathKeys","toPathValueStr","useActive","useKeyboard","toPathOptions","RefOptionList","forwardRef","props","ref","_optionColumns$","_optionColumns$$optio","_ref3","_classNames","_useBaseProps","prefixCls","multiple","searchValue","toggleOpen","notFoundContent","direction","containerRef","useRef","rtl","_React$useContext","useContext","options","values","halfValues","fieldNames","changeOnSelect","onSelect","searchOptions","dropdownPrefixCls","loadData","expandTrigger","mergedPrefixCls","_React$useState","useState","_React$useState2","loadingKeys","setLoadingKeys","internalLoadData","valueCells","optionList","rawOptions","map","_ref","option","lastOption","length","pathKey","keys","concat","useEffect","forEach","loadingKey","valueStrCells","_ref2","children","filter","key","checkedSet","useMemo","Set","halfCheckedSet","_useActive","_useActive2","activeValueCells","setActiveValueCells","onPathOpen","nextValueCells","isSelectable","disabled","isMergedLeaf","onPathSelect","valuePath","leaf","fromKeyboard","arguments","undefined","mergedOptions","optionColumns","currentList","_loop","i","activeValueCell","currentOption","find","value","subOptions","push","_ret","onKeyboardSelect","selectValueCells","isEmpty","emptyList","label","columnProps","onActive","onToggleOpen","mergedOptionColumns","columnNodes","col","index","prevValuePath","slice","activeValue","createElement","Fragment","className"],"sources":["/project/React-Flow-Automation/node_modules/rc-cascader/es/OptionList/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/* eslint-disable default-case */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useBaseProps } from 'rc-select';\nimport Column from './Column';\nimport CascaderContext from '../context';\nimport { isLeaf, toPathKey, toPathKeys, toPathValueStr } from '../utils/commonUtil';\nimport useActive from './useActive';\nimport useKeyboard from './useKeyboard';\nimport { toPathOptions } from '../utils/treeUtil';\nvar RefOptionList = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _optionColumns$, _optionColumns$$optio, _ref3, _classNames;\n\n  var _useBaseProps = useBaseProps(),\n      prefixCls = _useBaseProps.prefixCls,\n      multiple = _useBaseProps.multiple,\n      searchValue = _useBaseProps.searchValue,\n      toggleOpen = _useBaseProps.toggleOpen,\n      notFoundContent = _useBaseProps.notFoundContent,\n      direction = _useBaseProps.direction;\n\n  var containerRef = React.useRef();\n  var rtl = direction === 'rtl';\n\n  var _React$useContext = React.useContext(CascaderContext),\n      options = _React$useContext.options,\n      values = _React$useContext.values,\n      halfValues = _React$useContext.halfValues,\n      fieldNames = _React$useContext.fieldNames,\n      changeOnSelect = _React$useContext.changeOnSelect,\n      onSelect = _React$useContext.onSelect,\n      searchOptions = _React$useContext.searchOptions,\n      dropdownPrefixCls = _React$useContext.dropdownPrefixCls,\n      loadData = _React$useContext.loadData,\n      expandTrigger = _React$useContext.expandTrigger;\n\n  var mergedPrefixCls = dropdownPrefixCls || prefixCls; // ========================= loadData =========================\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      loadingKeys = _React$useState2[0],\n      setLoadingKeys = _React$useState2[1];\n\n  var internalLoadData = function internalLoadData(valueCells) {\n    // Do not load when search\n    if (!loadData || searchValue) {\n      return;\n    }\n\n    var optionList = toPathOptions(valueCells, options, fieldNames);\n    var rawOptions = optionList.map(function (_ref) {\n      var option = _ref.option;\n      return option;\n    });\n    var lastOption = rawOptions[rawOptions.length - 1];\n\n    if (lastOption && !isLeaf(lastOption, fieldNames)) {\n      var pathKey = toPathKey(valueCells);\n      setLoadingKeys(function (keys) {\n        return [].concat(_toConsumableArray(keys), [pathKey]);\n      });\n      loadData(rawOptions);\n    }\n  }; // zombieJ: This is bad. We should make this same as `rc-tree` to use Promise instead.\n\n\n  React.useEffect(function () {\n    if (loadingKeys.length) {\n      loadingKeys.forEach(function (loadingKey) {\n        var valueStrCells = toPathValueStr(loadingKey);\n        var optionList = toPathOptions(valueStrCells, options, fieldNames, true).map(function (_ref2) {\n          var option = _ref2.option;\n          return option;\n        });\n        var lastOption = optionList[optionList.length - 1];\n\n        if (!lastOption || lastOption[fieldNames.children] || isLeaf(lastOption, fieldNames)) {\n          setLoadingKeys(function (keys) {\n            return keys.filter(function (key) {\n              return key !== loadingKey;\n            });\n          });\n        }\n      });\n    }\n  }, [options, loadingKeys, fieldNames]); // ========================== Values ==========================\n\n  var checkedSet = React.useMemo(function () {\n    return new Set(toPathKeys(values));\n  }, [values]);\n  var halfCheckedSet = React.useMemo(function () {\n    return new Set(toPathKeys(halfValues));\n  }, [halfValues]); // ====================== Accessibility =======================\n\n  var _useActive = useActive(),\n      _useActive2 = _slicedToArray(_useActive, 2),\n      activeValueCells = _useActive2[0],\n      setActiveValueCells = _useActive2[1]; // =========================== Path ===========================\n\n\n  var onPathOpen = function onPathOpen(nextValueCells) {\n    setActiveValueCells(nextValueCells); // Trigger loadData\n\n    internalLoadData(nextValueCells);\n  };\n\n  var isSelectable = function isSelectable(option) {\n    var disabled = option.disabled;\n    var isMergedLeaf = isLeaf(option, fieldNames);\n    return !disabled && (isMergedLeaf || changeOnSelect || multiple);\n  };\n\n  var onPathSelect = function onPathSelect(valuePath, leaf) {\n    var fromKeyboard = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    onSelect(valuePath);\n\n    if (!multiple && (leaf || changeOnSelect && (expandTrigger === 'hover' || fromKeyboard))) {\n      toggleOpen(false);\n    }\n  }; // ========================== Option ==========================\n\n\n  var mergedOptions = React.useMemo(function () {\n    if (searchValue) {\n      return searchOptions;\n    }\n\n    return options;\n  }, [searchValue, searchOptions, options]); // ========================== Column ==========================\n\n  var optionColumns = React.useMemo(function () {\n    var optionList = [{\n      options: mergedOptions\n    }];\n    var currentList = mergedOptions;\n\n    var _loop = function _loop(i) {\n      var activeValueCell = activeValueCells[i];\n      var currentOption = currentList.find(function (option) {\n        return option[fieldNames.value] === activeValueCell;\n      });\n      var subOptions = currentOption === null || currentOption === void 0 ? void 0 : currentOption[fieldNames.children];\n\n      if (!(subOptions === null || subOptions === void 0 ? void 0 : subOptions.length)) {\n        return \"break\";\n      }\n\n      currentList = subOptions;\n      optionList.push({\n        options: subOptions\n      });\n    };\n\n    for (var i = 0; i < activeValueCells.length; i += 1) {\n      var _ret = _loop(i);\n\n      if (_ret === \"break\") break;\n    }\n\n    return optionList;\n  }, [mergedOptions, activeValueCells, fieldNames]); // ========================= Keyboard =========================\n\n  var onKeyboardSelect = function onKeyboardSelect(selectValueCells, option) {\n    if (isSelectable(option)) {\n      onPathSelect(selectValueCells, isLeaf(option, fieldNames), true);\n    }\n  };\n\n  useKeyboard(ref, mergedOptions, fieldNames, activeValueCells, onPathOpen, containerRef, onKeyboardSelect); // ========================== Render ==========================\n  // >>>>> Empty\n\n  var isEmpty = !((_optionColumns$ = optionColumns[0]) === null || _optionColumns$ === void 0 ? void 0 : (_optionColumns$$optio = _optionColumns$.options) === null || _optionColumns$$optio === void 0 ? void 0 : _optionColumns$$optio.length);\n  var emptyList = [(_ref3 = {}, _defineProperty(_ref3, fieldNames.label, notFoundContent), _defineProperty(_ref3, fieldNames.value, '__EMPTY__'), _defineProperty(_ref3, \"disabled\", true), _ref3)];\n\n  var columnProps = _objectSpread(_objectSpread({}, props), {}, {\n    multiple: !isEmpty && multiple,\n    onSelect: onPathSelect,\n    onActive: onPathOpen,\n    onToggleOpen: toggleOpen,\n    checkedSet: checkedSet,\n    halfCheckedSet: halfCheckedSet,\n    loadingKeys: loadingKeys,\n    isSelectable: isSelectable\n  }); // >>>>> Columns\n\n\n  var mergedOptionColumns = isEmpty ? [{\n    options: emptyList\n  }] : optionColumns;\n  var columnNodes = mergedOptionColumns.map(function (col, index) {\n    var prevValuePath = activeValueCells.slice(0, index);\n    var activeValue = activeValueCells[index];\n    return /*#__PURE__*/React.createElement(Column, _extends({\n      key: index\n    }, columnProps, {\n      prefixCls: mergedPrefixCls,\n      options: col.options,\n      prevValuePath: prevValuePath,\n      activeValue: activeValue\n    }));\n  }); // >>>>> Render\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(mergedPrefixCls, \"-menus\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(mergedPrefixCls, \"-menu-empty\"), isEmpty), _defineProperty(_classNames, \"\".concat(mergedPrefixCls, \"-rtl\"), rtl), _classNames)),\n    ref: containerRef\n  }, columnNodes));\n});\nexport default RefOptionList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}