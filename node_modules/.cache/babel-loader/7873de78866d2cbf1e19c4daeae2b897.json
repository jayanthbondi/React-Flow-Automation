{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { isLeaf, toPathKey } from '../utils/commonUtil';\nimport CascaderContext from '../context';\nimport Checkbox from './Checkbox';\nimport { SEARCH_MARK } from '../hooks/useSearchOptions';\nexport default function Column(_ref) {\n  var prefixCls = _ref.prefixCls,\n      multiple = _ref.multiple,\n      options = _ref.options,\n      activeValue = _ref.activeValue,\n      prevValuePath = _ref.prevValuePath,\n      onToggleOpen = _ref.onToggleOpen,\n      onSelect = _ref.onSelect,\n      onActive = _ref.onActive,\n      checkedSet = _ref.checkedSet,\n      halfCheckedSet = _ref.halfCheckedSet,\n      loadingKeys = _ref.loadingKeys,\n      isSelectable = _ref.isSelectable;\n  var menuPrefixCls = \"\".concat(prefixCls, \"-menu\");\n  var menuItemPrefixCls = \"\".concat(prefixCls, \"-menu-item\");\n\n  var _React$useContext = React.useContext(CascaderContext),\n      fieldNames = _React$useContext.fieldNames,\n      changeOnSelect = _React$useContext.changeOnSelect,\n      expandTrigger = _React$useContext.expandTrigger,\n      expandIcon = _React$useContext.expandIcon,\n      loadingIcon = _React$useContext.loadingIcon,\n      dropdownMenuColumnStyle = _React$useContext.dropdownMenuColumnStyle;\n\n  var hoverOpen = expandTrigger === 'hover'; // ============================ Render ============================\n\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: menuPrefixCls,\n    role: \"menu\"\n  }, options.map(function (option) {\n    var _classNames;\n\n    var disabled = option.disabled;\n    var searchOptions = option[SEARCH_MARK];\n    var label = option[fieldNames.label];\n    var value = option[fieldNames.value];\n    var isMergedLeaf = isLeaf(option, fieldNames); // Get real value of option. Search option is different way.\n\n    var fullPath = searchOptions ? searchOptions.map(function (opt) {\n      return opt[fieldNames.value];\n    }) : [].concat(_toConsumableArray(prevValuePath), [value]);\n    var fullPathKey = toPathKey(fullPath);\n    var isLoading = loadingKeys.includes(fullPathKey); // >>>>> checked\n\n    var checked = checkedSet.has(fullPathKey); // >>>>> halfChecked\n\n    var halfChecked = halfCheckedSet.has(fullPathKey); // >>>>> Open\n\n    var triggerOpenPath = function triggerOpenPath() {\n      if (!disabled && (!hoverOpen || !isMergedLeaf)) {\n        onActive(fullPath);\n      }\n    }; // >>>>> Selection\n\n\n    var triggerSelect = function triggerSelect() {\n      if (isSelectable(option)) {\n        onSelect(fullPath, isMergedLeaf);\n      }\n    }; // >>>>> Title\n\n\n    var title;\n\n    if (typeof option.title === 'string') {\n      title = option.title;\n    } else if (typeof label === 'string') {\n      title = label;\n    } // >>>>> Render\n\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: fullPathKey,\n      className: classNames(menuItemPrefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-expand\"), !isMergedLeaf), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-active\"), activeValue === value), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-loading\"), isLoading), _classNames)),\n      style: dropdownMenuColumnStyle,\n      role: \"menuitemcheckbox\",\n      title: title,\n      \"aria-checked\": checked,\n      \"data-path-key\": fullPathKey,\n      onClick: function onClick() {\n        triggerOpenPath();\n\n        if (!multiple || isMergedLeaf) {\n          triggerSelect();\n        }\n      },\n      onDoubleClick: function onDoubleClick() {\n        if (changeOnSelect) {\n          onToggleOpen(false);\n        }\n      },\n      onMouseEnter: function onMouseEnter() {\n        if (hoverOpen) {\n          triggerOpenPath();\n        }\n      },\n      onMouseDown: function onMouseDown(e) {\n        // Prevent selector from blurring\n        e.preventDefault();\n      }\n    }, multiple && /*#__PURE__*/React.createElement(Checkbox, {\n      prefixCls: \"\".concat(prefixCls, \"-checkbox\"),\n      checked: checked,\n      halfChecked: halfChecked,\n      disabled: disabled,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        triggerSelect();\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-content\")\n    }, option[fieldNames.label]), !isLoading && expandIcon && !isMergedLeaf && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-expand-icon\")\n    }, expandIcon), isLoading && loadingIcon && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-loading-icon\")\n    }, loadingIcon));\n  }));\n}","map":{"version":3,"names":["_defineProperty","_toConsumableArray","React","classNames","isLeaf","toPathKey","CascaderContext","Checkbox","SEARCH_MARK","Column","_ref","prefixCls","multiple","options","activeValue","prevValuePath","onToggleOpen","onSelect","onActive","checkedSet","halfCheckedSet","loadingKeys","isSelectable","menuPrefixCls","concat","menuItemPrefixCls","_React$useContext","useContext","fieldNames","changeOnSelect","expandTrigger","expandIcon","loadingIcon","dropdownMenuColumnStyle","hoverOpen","createElement","className","role","map","option","_classNames","disabled","searchOptions","label","value","isMergedLeaf","fullPath","opt","fullPathKey","isLoading","includes","checked","has","halfChecked","triggerOpenPath","triggerSelect","title","key","style","onClick","onDoubleClick","onMouseEnter","onMouseDown","e","preventDefault","stopPropagation"],"sources":["/project/React-Flow-Automation/node_modules/rc-cascader/es/OptionList/Column.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { isLeaf, toPathKey } from '../utils/commonUtil';\nimport CascaderContext from '../context';\nimport Checkbox from './Checkbox';\nimport { SEARCH_MARK } from '../hooks/useSearchOptions';\nexport default function Column(_ref) {\n  var prefixCls = _ref.prefixCls,\n      multiple = _ref.multiple,\n      options = _ref.options,\n      activeValue = _ref.activeValue,\n      prevValuePath = _ref.prevValuePath,\n      onToggleOpen = _ref.onToggleOpen,\n      onSelect = _ref.onSelect,\n      onActive = _ref.onActive,\n      checkedSet = _ref.checkedSet,\n      halfCheckedSet = _ref.halfCheckedSet,\n      loadingKeys = _ref.loadingKeys,\n      isSelectable = _ref.isSelectable;\n  var menuPrefixCls = \"\".concat(prefixCls, \"-menu\");\n  var menuItemPrefixCls = \"\".concat(prefixCls, \"-menu-item\");\n\n  var _React$useContext = React.useContext(CascaderContext),\n      fieldNames = _React$useContext.fieldNames,\n      changeOnSelect = _React$useContext.changeOnSelect,\n      expandTrigger = _React$useContext.expandTrigger,\n      expandIcon = _React$useContext.expandIcon,\n      loadingIcon = _React$useContext.loadingIcon,\n      dropdownMenuColumnStyle = _React$useContext.dropdownMenuColumnStyle;\n\n  var hoverOpen = expandTrigger === 'hover'; // ============================ Render ============================\n\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: menuPrefixCls,\n    role: \"menu\"\n  }, options.map(function (option) {\n    var _classNames;\n\n    var disabled = option.disabled;\n    var searchOptions = option[SEARCH_MARK];\n    var label = option[fieldNames.label];\n    var value = option[fieldNames.value];\n    var isMergedLeaf = isLeaf(option, fieldNames); // Get real value of option. Search option is different way.\n\n    var fullPath = searchOptions ? searchOptions.map(function (opt) {\n      return opt[fieldNames.value];\n    }) : [].concat(_toConsumableArray(prevValuePath), [value]);\n    var fullPathKey = toPathKey(fullPath);\n    var isLoading = loadingKeys.includes(fullPathKey); // >>>>> checked\n\n    var checked = checkedSet.has(fullPathKey); // >>>>> halfChecked\n\n    var halfChecked = halfCheckedSet.has(fullPathKey); // >>>>> Open\n\n    var triggerOpenPath = function triggerOpenPath() {\n      if (!disabled && (!hoverOpen || !isMergedLeaf)) {\n        onActive(fullPath);\n      }\n    }; // >>>>> Selection\n\n\n    var triggerSelect = function triggerSelect() {\n      if (isSelectable(option)) {\n        onSelect(fullPath, isMergedLeaf);\n      }\n    }; // >>>>> Title\n\n\n    var title;\n\n    if (typeof option.title === 'string') {\n      title = option.title;\n    } else if (typeof label === 'string') {\n      title = label;\n    } // >>>>> Render\n\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: fullPathKey,\n      className: classNames(menuItemPrefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-expand\"), !isMergedLeaf), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-active\"), activeValue === value), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(menuItemPrefixCls, \"-loading\"), isLoading), _classNames)),\n      style: dropdownMenuColumnStyle,\n      role: \"menuitemcheckbox\",\n      title: title,\n      \"aria-checked\": checked,\n      \"data-path-key\": fullPathKey,\n      onClick: function onClick() {\n        triggerOpenPath();\n\n        if (!multiple || isMergedLeaf) {\n          triggerSelect();\n        }\n      },\n      onDoubleClick: function onDoubleClick() {\n        if (changeOnSelect) {\n          onToggleOpen(false);\n        }\n      },\n      onMouseEnter: function onMouseEnter() {\n        if (hoverOpen) {\n          triggerOpenPath();\n        }\n      },\n      onMouseDown: function onMouseDown(e) {\n        // Prevent selector from blurring\n        e.preventDefault();\n      }\n    }, multiple && /*#__PURE__*/React.createElement(Checkbox, {\n      prefixCls: \"\".concat(prefixCls, \"-checkbox\"),\n      checked: checked,\n      halfChecked: halfChecked,\n      disabled: disabled,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        triggerSelect();\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-content\")\n    }, option[fieldNames.label]), !isLoading && expandIcon && !isMergedLeaf && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-expand-icon\")\n    }, expandIcon), isLoading && loadingIcon && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(menuItemPrefixCls, \"-loading-icon\")\n    }, loadingIcon));\n  }));\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}